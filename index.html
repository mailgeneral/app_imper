<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Imperdellanta: App Oficial</title>
    <meta name="description" content="La solución definitiva y ecológica para la protección de tu patrimonio. ¡Contáctanos!">
    <link rel="stylesheet" href="index.css">
    <link rel="manifest" href="manifest.json">
    <!-- Theme color for browser UI -->
    <meta name="theme-color" content="#121212">
    <!-- iOS meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Imperdellanta">
    <link rel="apple-touch-icon" href="icon-192.png">
    <script type="module" src="index.js"></script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="offline-notification">
        Estás en modo sin conexión. Algunas funciones pueden no estar disponibles.
    </div>
    <div id="root">
        <header>
            <div class="header-main">
                 <div class="header-actions">
                    <a href="https://wa.me/5212228496995" aria-label="Contactar por WhatsApp" class="external">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.45 1.32 4.95L2 22l5.25-1.38c1.45.79 3.08 1.21 4.79 1.21 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zm4.52 12.01c-.25-.12-1.47-.72-1.7-.8s-.39-.12-.56.12c-.17.25-.64.8-.79.96s-.3.19-.55.06-1.06-.39-2.02-1.25c-.75-.67-1.25-1.5-1.4-1.75s-.02-.38.11-.5c.12-.12.25-.3.38-.45s.17-.25.25-.41c.08-.17 0-.3-.06-.41s-.56-1.34-.76-1.84-.4-.42-.55-.42h-.5c-.15 0-.38.06-.55.25s-.64.64-.79 1.55.81 1.8 1.16 2.15c.35.35 1.58 2.48 3.82 3.39 2.24.9 2.24.6 2.64.58.4-.02 1.29-.53 1.47-1.04.19-.51.19-.94.13-1.04s-.19-.18-.44-.3z"/></svg>
                    </a>
                </div>
                <img id="avatar" src="avatar.png" alt="Avatar de Imperdellanta">
                <div class="header-actions">
                     <a href="tel:2228496995" aria-label="Marcar a Ventas">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>
                    </a>
                </div>
            </div>
            <h1 id="userName">Imperdellanta</h1>
            <div id="info-slider-container" class="hidden">
                <div id="info-slider-track">
                    <!-- Las cápsulas de información se insertarán aquí dinámicamente -->
                </div>
            </div>
            <button id="install-button" style="display: none;">Instalar App</button>
            <div id="ios-install-prompt" class="hidden">
                <p>
                    Para instalar, toca 
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16" style="vertical-align: text-bottom;">
                        <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                        <path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/>
                    </svg>
                     y luego "Agregar a inicio".
                </p>
            </div>
        </header>

        <div id="main-content">
            <section id="featured-product-container" class="hidden"></section>

            <main id="links-container">
                 <button id="diagnostic-btn" class="link-button">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zM7 17h10v-2H7v2zm5-10H7v2h5V7zm0 4H7v2h5v-2z"/></svg>
                    <span>Diagnóstico Gratuito</span>
                </button>
                <!-- Los enlaces se insertarán aquí dinámicamente -->
            </main>
            <main id="offline-guide-container" class="hidden">
                <!-- La guía offline se insertará aquí dinámicamente -->
            </main>
            <main id="diagnostic-container" class="hidden">
                <!-- El diagnóstico se insertará aquí dinámicamente -->
            </main>
            <main id="calculator-view-container" class="hidden">
                <div class="view-header">
                    <button id="back-button-calc" aria-label="Volver a enlaces">←</button>
                    <h2>Calculadora de Protección</h2>
                </div>
                 <section id="calculator-container">
                    <p>Ingresa los datos de tu techo y obtén la solución completa al instante.</p>
                    <form id="calculator-form" novalidate>
                        <div class="form-group">
                            <input type="number" id="calc-sqMeters" name="calc-sqMeters" placeholder="Ej: 80" min="1" required>
                            <label for="calc-sqMeters">Metros Cuadrados (m²)</label>
                        </div>
                        <div class="form-group">
                            <input type="number" id="calc-linearMeters" name="calc-linearMeters" placeholder="Ej: 15" min="0" value="0" required>
                            <label for="calc-linearMeters">Metros Lineales de Grietas (m)</label>
                        </div>
                        <button type="submit" id="calculate-btn" class="link-button">Calcular Protección</button>
                    </form>
                    <div id="calculator-results" class="hidden"></div>
                </section>
            </main>
        </div>

        <footer>
            <p>&copy; Imperdellanta</p>
        </footer>
    </div>

    <!-- Chatbot FAB and Modal -->
    <button id="chat-fab" aria-label="Abrir Asistente Virtual">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>
        </svg>
    </button>
    <div id="chat-modal" class="hidden">
        <div class="chat-modal-content">
            <button id="chat-modal-close" aria-label="Cerrar Asistente Virtual">&times;</button>
            <iframe id="chat-iframe" src="" title="Asistente Virtual Alex" allow="clipboard-write"></iframe>
        </div>
    </div>

    <div id="update-notification" class="hidden">
        <span>Hay una nueva versión disponible.</span>
        <button id="update-now-btn">Actualiza</button>
    </div>

    <noscript>
        Necesitas habilitar JavaScript para usar esta aplicación.
    </noscript>
<script type="module" src="/index.tsx"></script>
</body>
</html>
